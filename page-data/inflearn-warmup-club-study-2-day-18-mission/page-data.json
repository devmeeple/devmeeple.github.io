{"componentChunkName":"component---src-templates-post-jsx","path":"/inflearn-warmup-club-study-2-day-18-mission/","result":{"data":{"site":{"siteMetadata":{"title":"장태근블로그"}},"markdownRemark":{"id":"e5be6a83-f73a-5416-9c50-3221bdef1bd2","excerpt":"*인프런 워밍업 클럽 2기, 18일차 미션을 '나만의 언어'로 정리한 글이다. 1. @Mock, @MockBean, @Spy, @SpyBean, @InjectMocks 차이는 무엇일까? 1.1 @Mock vs. @MockBean 은 Mockito에서 제공한다. 반면 은 Spring에서 제공한다. 1.2 @Spy vs. @SpyBean 는 Mockito에서…","html":"<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/6eafdc06d45f840680ba9adf321b5737/64756/inflearn-warmup-club-study-2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 65.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAB7CAAAewgFu0HU+AAADXElEQVR42k2Ta2yTZRiG3zYh4CIGgydQdE4HwZmNdRBBEZGV2W5d2/XcrfSwHmArths7BJyTERxZGKBTo8wpW2Q/FkgM0R9GlMyYgNEIQQ1Rwg8TJBIMEDOGzq79Lp8WPPx4k/c73ff9Xs/9qdrGaSz+qxStquTeqsfYYBygKQX2SI6GZk0W/y777dUQ1bDHs9jC4ElAOA3WsIbRn0MNjVzDsgm2942zttqKI3QeRywvkC0IOmIiHM2Kwaxc/4Gj+Sb2WAZLchqniL8yCOMfwpkzMDYG6scLkOiC1h0Z4u2XC0kcURGJgDN6g939R0i3vUlv31GGh0fZsf0E1gC45blLjHfu0/j0OJz9/RIfXT+Nen0EvvgKNvpyhdgOOY4nomGNZHBHb+IKhPBHHYQ2b8JUs471ySGqo79QHfsem2BxxHN8ewre+/VLNlx4GeXZAm+9+xOe2FVsUXEOwTPbTjL3sImF/RGKRtYz56ABffdSdPvL0H28GjW5hgcOteOWpPlvOvqynD57nZ+vzKDykC2BKZyxv7BLOrfwLO0ZRH32BLpDFahUCarxQdRhA7rGh9DvKUeF51O6Zx8+EbQL41rv13iDo6R7hGGemTMuyRK3pucUwbLOg6jxYnRHqlDG+1ArF6C6S1Fld6E79pSYlbDi1Ql88m5dcIrlFSmerNoqe+2W4H+1ECYC29JyjeK6NuYsWYK+owT9OxXonYvRD5WhT5ew3DWASQZma87IyaQyoRmqHedkn/2foAC2yw3rizMimsMpLE2O88zba0F1LkVf8yjq7WUsS05gfuEK5Y8YWV3ZK5hy+Lbkewi1Af4RzOGSIztjs9T6L1IfzldplA8mFDWd87C0KyxNOp7uUYS6n5cW9FP+eJJVKzowB2alo/nB5Nj9mgi64hpecTA2nGNxcZC77zGwZuOktP8ErZ1etnVvpq2rhV17W0inU6S6PDS1nqJegtSFMsQ64I33NXoGIPlSXlCSGdaNMfeORVStNFJhqKNowVrMvssFZ1OjhqlJeuoFswzB7JeqCA6bdDbcBie/meK7H35j5+A0u/bfFny4NMqd8xfy7HNu7l9USTDSyyefX+LAsFbA4ElkC8Cdgsa6dYqGxCz1wfzfpXF88k+OHrsoJjeoD8Hf2aOAQR9ptoYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='인프런 워밍업 클럽 스터디 2기 - 백엔드 클린 코드, 테스트 코드 &lt;출처: 인프런&gt;' title='' src='/static/6eafdc06d45f840680ba9adf321b5737/ca1dc/inflearn-warmup-club-study-2.png' srcset='/static/6eafdc06d45f840680ba9adf321b5737/e7570/inflearn-warmup-club-study-2.png 170w,\n/static/6eafdc06d45f840680ba9adf321b5737/f46e7/inflearn-warmup-club-study-2.png 340w,\n/static/6eafdc06d45f840680ba9adf321b5737/ca1dc/inflearn-warmup-club-study-2.png 680w,\n/static/6eafdc06d45f840680ba9adf321b5737/02d09/inflearn-warmup-club-study-2.png 1020w,\n/static/6eafdc06d45f840680ba9adf321b5737/64756/inflearn-warmup-club-study-2.png 1200w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>인프런 워밍업 클럽 스터디 2기 - 백엔드 클린 코드, 테스트 코드 &lt;출처: 인프런&gt;</figcaption>\n  </figure></p>\n<blockquote>\n<p>*인프런 워밍업 클럽 2기, 18일차 미션을 '나만의 언어'로 정리한 글이다.</p>\n</blockquote>\n<h2 id=\"1-Mock-MockBean-Spy-SpyBean-InjectMocks-차이는-무엇일까\" style=\"position:relative;\"><a href=\"#1-Mock-MockBean-Spy-SpyBean-InjectMocks-%EC%B0%A8%EC%9D%B4%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"1 Mock MockBean Spy SpyBean InjectMocks 차이는 무엇일까 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>1. @Mock, @MockBean, @Spy, @SpyBean, @InjectMocks 차이는 무엇일까?</h2>\n<h3 id=\"11-Mock-vs-MockBean\" style=\"position:relative;\"><a href=\"#11-Mock-vs-MockBean\" aria-label=\"11 Mock vs MockBean permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>1.1 @Mock vs. @MockBean</h3>\n<p><code class=\"language-text\">@Mock</code>은 Mockito에서 제공한다. 반면 <code class=\"language-text\">@MockBean</code>은 Spring에서 제공한다.</p>\n<h3 id=\"12-Spy-vs-SpyBean\" style=\"position:relative;\"><a href=\"#12-Spy-vs-SpyBean\" aria-label=\"12 Spy vs SpyBean permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>1.2 @Spy vs. @SpyBean</h3>\n<p><code class=\"language-text\">@Spy</code>는 Mockito에서 제공한다. 반면 <code class=\"language-text\">@SpyBean</code>은 Spring에서 제공한다.</p>\n<h3 id=\"13-InjectMocks\" style=\"position:relative;\"><a href=\"#13-InjectMocks\" aria-label=\"13 InjectMocks permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>1.3 @InjectMocks</h3>\n<p>테스트 대상 객체(SUT, System Under Test)에 <code class=\"language-text\">@Mock</code>이 사용된 모의 객체 의존성을 편리하게 주입하기 위해 사용한다.\n단위 테스트에 적합하고, 통합 테스트를 작성할 때는 <code class=\"language-text\">@Autowired</code>를 주로 사용한다.</p>\n<h3 id=\"14-결론\" style=\"position:relative;\"><a href=\"#14-%EA%B2%B0%EB%A1%A0\" aria-label=\"14 결론 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>1.4 결론</h3>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/dc74493345de0ed6ad7d26bee7baafde/59665/culinary-class-wars-intention.avif' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 43.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url('data:image/heif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAZhtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAANGlsb2MAAAAAREAAAgACAAAAAAG8AAEAAAAAAAAAFQABAAAAAAHRAAEAAAAAAAAANAAAADhpaW5mAAAAAAACAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAFWluZmUCAAAAAAIAAGF2MDEAAAAA12lwcnAAAACxaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EAHAAAAAAUaXNwZQAAAAAAAAAUAAAACQAAAA5waXhpAAAAAAEIAAAAOGF1eEMAAAAAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTphbHBoYQAAAAAMYXYxQ4EgAgAAAAAUaXNwZQAAAAAAAAAUAAAACQAAABBwaXhpAAAAAAMICAgAAAAeaXBtYQAAAAAAAAACAAEEgYYHiAACBIIDhIUAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAAFFtZGF0EgAKBRgQ5wwqMgoYAAABAAXTgPKAEgAKBTgQ5wwSMikYAAssQQUA3cfGouNTpR49lFoZa5h2AHfdoHf/g3D44vmoNOdJA6SUTw=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='의도된 바가 전해져야 돼요 &lt;출처: 흑백요리사: 요리 계급 전쟁&gt;' title='' src='/static/dc74493345de0ed6ad7d26bee7baafde/d3231/culinary-class-wars-intention.avif' srcset='/static/dc74493345de0ed6ad7d26bee7baafde/b521e/culinary-class-wars-intention.avif 170w,\n/static/dc74493345de0ed6ad7d26bee7baafde/74bf6/culinary-class-wars-intention.avif 340w,\n/static/dc74493345de0ed6ad7d26bee7baafde/d3231/culinary-class-wars-intention.avif 680w,\n/static/dc74493345de0ed6ad7d26bee7baafde/59665/culinary-class-wars-intention.avif 700w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>의도된 바가 전해져야 돼요 &lt;출처: 흑백요리사: 요리 계급 전쟁&gt;</figcaption>\n  </figure></p>\n<p><strong>테스트 코드를 작성할 때 '의도'를 전달할 수 있어야 한다.</strong> 순수 단위 테스트가 필요하다면 <code class=\"language-text\">@Mock</code>, <code class=\"language-text\">@Spy</code>를 요구사항에 맞춰 사용한다.\n반면 <code class=\"language-text\">Spring Context</code>가 필요한 통합 테스트라면 <code class=\"language-text\">@Bean 시리즈</code>를 사용해야 한다.</p>\n<h2 id=\"2-Test-Fixture-구성하기\" style=\"position:relative;\"><a href=\"#2-Test-Fixture-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"2 Test Fixture 구성하기 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2. Test Fixture 구성하기</h2>\n<blockquote>\n<p>*목표: <code class=\"language-text\">@BeforeEach</code>, <code class=\"language-text\">given</code>, <code class=\"language-text\">when</code>절에 어떻게 배치하면 좋을까?</p>\n<p>요구사항</p>\n<ul>\n<li>게시판 게시물에 달리는 댓글을 담당하는 Service Test</li>\n<li>댓글을 달기 위해서는 게시물과 사용자가 필요하다.</li>\n<li>게시물을 올리기 위해서는 사용자가 필요하다.</li>\n</ul>\n</blockquote>\n<p>시나리오는 위와 같다. 어떻게 구성하면 좋을까? 생각해 보자.</p>\n<h3 id=\"21-사용자가-댓글을-작성할-수-있다\" style=\"position:relative;\"><a href=\"#21-%EC%82%AC%EC%9A%A9%EC%9E%90%EA%B0%80-%EB%8C%93%EA%B8%80%EC%9D%84-%EC%9E%91%EC%84%B1%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"21 사용자가 댓글을 작성할 수 있다 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.1 사용자가 댓글을 작성할 수 있다</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">setUp</code></p>\n<ul>\n<li>사용자 생성에 필요한 내용 준비</li>\n<li>사용자 생성</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">given</code></p>\n<ul>\n<li>게시물 생성에 필요한 내용 준비</li>\n<li>게시물 생성</li>\n<li>댓글 생성에 필요한 내용 준비</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">when</code></p>\n<ul>\n<li>댓글 생성</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"22-사용자가-댓글을-수정할-수-있다\" style=\"position:relative;\"><a href=\"#22-%EC%82%AC%EC%9A%A9%EC%9E%90%EA%B0%80-%EB%8C%93%EA%B8%80%EC%9D%84-%EC%88%98%EC%A0%95%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"22 사용자가 댓글을 수정할 수 있다 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.2 사용자가 댓글을 수정할 수 있다</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">setUp</code></p>\n<ul>\n<li>2.1과 동일하다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">given</code></p>\n<ul>\n<li>2.1와 동일하다.</li>\n<li>댓글 생성</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">when</code></p>\n<ul>\n<li>댓글 수정</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"23-자신이-작성한-댓글이-아니면-수정할-수-없다\" style=\"position:relative;\"><a href=\"#23-%EC%9E%90%EC%8B%A0%EC%9D%B4-%EC%9E%91%EC%84%B1%ED%95%9C-%EB%8C%93%EA%B8%80%EC%9D%B4-%EC%95%84%EB%8B%88%EB%A9%B4-%EC%88%98%EC%A0%95%ED%95%A0-%EC%88%98-%EC%97%86%EB%8B%A4\" aria-label=\"23 자신이 작성한 댓글이 아니면 수정할 수 없다 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.3 자신이 작성한 댓글이 아니면 수정할 수 없다</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">setUp</code></p>\n<ul>\n<li>2.1과 동일하다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">given</code></p>\n<ul>\n<li>2.1와 동일하다.</li>\n<li>사용자 2 생성</li>\n<li>사용자 1의 댓글 생성</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">when</code></p>\n<ul>\n<li>사용자 2가 사용자 1의 댓글 수정 시도</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"24-결론-톺아보기\" style=\"position:relative;\"><a href=\"#24-%EA%B2%B0%EB%A1%A0-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0\" aria-label=\"24 결론 톺아보기 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.4 결론, 톺아보기</h3>\n<p>검증하고 싶은 부분은 '댓글'이다. 사용자와 게시글 모두 필요하다. 하지만 조금 더 중요한 부분은 '댓글'이라고 생각한다.\n따라서 사용자를 생성하는 내용은 모두 <code class=\"language-text\">setUp</code>에 작성한다. 반면 댓글은 테스트 코드는 문서기 때문에 문맥을 이해할 때 필요하다.\n따라서 <code class=\"language-text\">given</code>에 작성한다. <code class=\"language-text\">when</code>에는 검증하고 싶은 기능을 담는다.</p>\n<blockquote>\n<p>테스트 코드는 <code class=\"language-text\">DRY</code>보다는 <code class=\"language-text\">DAMP</code> 하게 작성하자</p>\n</blockquote>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>마치며</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/f86f7822db2560d2146287ed95a0da4d/c0679/show-me-the-money-6-fail.avif' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/heif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAAnAAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EgAgAAAAAUaXNwZQAAAAAAAAAUAAAACwAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEgYIDhAAAAKRtZGF0EgAKBTgQ50wSMpABGAAAAFDuV26Jl7RQU1AJNWPNUZJKumlYs9HWaFySc/tLAzTDqhF/g4ZbfSb8V4ECL1wkqLDnA9+OuKmj0cJQioUB73E1oFe/Q6TEsQJicpi31ZqQVf2JEHZcQNj+X036m+pJvs7j0zX9EcvbTkU2rv3SaHt3fr0so46fgKmayha047a00Lot0B9VJKMqGHGs'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='믿기 힘든 반전의 결과 속출 &lt;출처: Show Me The Money 6&gt;' title='' src='/static/f86f7822db2560d2146287ed95a0da4d/d3231/show-me-the-money-6-fail.avif' srcset='/static/f86f7822db2560d2146287ed95a0da4d/b521e/show-me-the-money-6-fail.avif 170w,\n/static/f86f7822db2560d2146287ed95a0da4d/74bf6/show-me-the-money-6-fail.avif 340w,\n/static/f86f7822db2560d2146287ed95a0da4d/d3231/show-me-the-money-6-fail.avif 680w,\n/static/f86f7822db2560d2146287ed95a0da4d/c0679/show-me-the-money-6-fail.avif 800w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>믿기 힘든 반전의 결과 속출 &lt;출처: Show Me The Money 6&gt;</figcaption>\n  </figure></p>\n<p>마지막 미션인 만큼 의심을 한 번 더 했다. 특히 2번 문제, 'Test Fixture 구성하기'를 의심했다. '우빈 님께서 <code class=\"language-text\">setUp</code> 메서드에도\n물음표를 사용하셨지만 함정이 아닐까?' 돌다리를 두드려 봤다. 하지만 거듭 생각해도 생각이 바뀌지 않았다.\n미션, 과정 전부 끝났다. 배움이 많았다. 자세한 이야기는 '인프런 워밍업 클럽 2기 후기'로 알아보자.</p>\n<p><strong>&#x3C;참고 자료></strong></p>\n<ul>\n<li><a href=\"https://inf.run/yoBRZ\">박우빈 'Practical Testing: 실용적인 테스트 가이드'</a></li>\n<li><a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\">Baeldung 'Mockito.mock() vs @Mock vs @MockBean'</a></li>\n<li><a href=\"https://www.baeldung.com/spring-spy-vs-spybean\">Baeldung 'Difference Between @Spy and @SpyBean'</a></li>\n<li><a href=\"https://www.baeldung.com/spring-test-autowired-injectmocks\">Baeldung 'Using @Autowired and @InjectMocks in Spring Boot Tests'</a></li>\n</ul>","frontmatter":{"title":"Mock을 마주합니다. 그런데 Test Fixture를 곁들인","date":"October 25, 2024","update":"October 25, 2024","tags":["스터디","워밍업클럽","인프런"],"series":"인프런 워밍업 클럽 스터디 2기 - 백엔드 클린 코드, 테스트 코드"},"fields":{"slug":"/inflearn-warmup-club-study-2-day-18-mission/","readingTime":{"minutes":4.63}}},"seriesList":{"edges":[{"node":{"id":"14b36ec4-c65f-55d7-b364-bb90daf3587b","fields":{"slug":"/inflearn-warmup-club-study-2-day-4-mission/"},"frontmatter":{"title":"리팩터링과 SOLID"}}},{"node":{"id":"96cec95d-9112-545c-b466-8f06bb50ea28","fields":{"slug":"/inflearn-warmup-club-study-2-day-15-mission/"},"frontmatter":{"title":"계층화 아키텍처(Layered Architecture)"}}},{"node":{"id":"e5be6a83-f73a-5416-9c50-3221bdef1bd2","fields":{"slug":"/inflearn-warmup-club-study-2-day-18-mission/"},"frontmatter":{"title":"Mock을 마주합니다. 그런데 Test Fixture를 곁들인"}}}]},"previous":{"fields":{"slug":"/pangyo-evening-meet-up-http-241023/"},"frontmatter":{"title":"판교 퇴근길 밋업 with 인프런 #08 HTTP 후기"}},"next":null},"pageContext":{"id":"e5be6a83-f73a-5416-9c50-3221bdef1bd2","series":"인프런 워밍업 클럽 스터디 2기 - 백엔드 클린 코드, 테스트 코드","previousPostId":"045ef529-3ad4-5d39-9506-f2d035c665f5","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}